---
title: "Housing Prices ML Project"
author: "Tim Colussi"
date: "8/6/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Importing Data

```{r}
library(readr)
library(tidyverse)
data <- read_csv("./train.csv")


```

## Dealing with Missingness

```{r}
sum(is.na(data))
na_colnames <- colnames(data)[colSums(is.na(data)) > 0]
na_colnames
data$PoolQC[is.na(data$PoolQC)] <- "None"
data$Fence[is.na(data$Fence)] <- "None"
data$Alley[is.na(data$Alley)] <- "None"
data$BsmtQual[is.na(data$BsmtQual)] <- "None"
data$BsmtCond[is.na(data$BsmtCond)] <- "None"
data$BsmtExposure[is.na(data$BsmtExposure)] <- "None"
data$BsmtFinType1[is.na(data$BsmtFinType1)] <- "None"
data$BsmtFinType2[is.na(data$BsmtFinType2)] <- "None"
data$FireplaceQu[is.na(data$FireplaceQu)] <- "None"
data$GarageType[is.na(data$GarageType)] <- "None"
data$GarageFinish[is.na(data$GarageFinish)] <- "None" 
data$GarageQual[is.na(data$GarageQual)] <- "None"
data$GarageCond[is.na(data$GarageCond)] <- "None"
data$MiscFeature[is.na(data$MiscFeature)] <- "None"
data$LotFrontage[is.na(data$LotFrontage)] <- 0
data$MasVnrType[is.na(data$MasVnrType)] <- "None"
data$MasVnrArea[is.na(data$MasVnrArea)] <- 0
data$GarageYrBlt[is.na(data$GarageYrBlt)] <- 0
data <- na.omit(data)
sum(is.na(data))

```

## Pre-processing

```{r}
# creating porch type column and removing porch columns
data$porch <- ifelse(data$OpenPorchSF > 0 & data$`3SsnPorch` == 0 & data$ScreenPorch == 0 & 
                        data$EnclosedPorch == 0, 'open',
                      ifelse(data$`3SsnPorch` > 0 & data$OpenPorchSF == 0 & data$ScreenPorch == 0 &
                               data$EnclosedPorch == 0, 'threeSeason',
                             ifelse(data$ScreenPorch > 0 & data$OpenPorchSF == 0 & 
                                      data$`3SsnPorch` == 0 & data$EnclosedPorch == 0, 'screen',
                                    ifelse(data$EnclosedPorch > 0 & data$OpenPorchSF == 0 &
                                             data$`3SsnPorch` == 0 & data$EnclosedPorch == 0,
                                           'enclosed', 'multiple'))))
head(data$porch)
porch <- data %>% 
  select(OpenPorchSF, EnclosedPorch, `3SsnPorch`, ScreenPorch)
porch_drop <- c(names(porch))
data <- data[, !(names(data) %in% porch_drop)]
names(data)

# adding percent basement finished and removed all basement columns except total sqft

data$bsmt_perc_fin <- (data$BsmtFinSF1 + data$BsmtFinSF2)/data$TotalBsmtSF
summary(data$bsmt_perc_fin)
data$bsmt_perc_fin[is.na(data$bsmt_perc_fin)] <- 0
bsmt_drops <- c('BsmtFinType1', 'BsmtFinSF1', 'BsmtFinType2', 'BsmtFinSF2', 'BsmtUnfSF')
data <- data[, !(names(data) %in% bsmt_drops)]


```


## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
